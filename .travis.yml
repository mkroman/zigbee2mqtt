language: node_js

sudo: required

services:
  - docker

node_js:
  - "10"

before_install:
  - "echo '{\"experimental\": true}' | sudo tee /etc/docker/daemon.json"
  - sudo service docker restart

install:
  - npm install

before_script:
  - npm test
  - npm run eslint

script:
  - ".travis/docker.sh"
  - ".travis/trigger-downstream.sh"

env:
  global:
    - DOCKER_USERNAME=mkroman
    - secure: "Mzmy1cEUnZGf+gYYIDhwCAmG54rP12k5tExKu1VU49xaG6BkWtaBE6HYGrdB6aqfGsHagr6CK462iMoq/IlZg+cRDQ6xg4itFA3ERwU6xok2uC+pJ615n6v2B7MWocLm9HFgvmrgriwml4hX4gCgfA1xWwEJ2riOhLtFIF/nlNYHthfJzVuPqQJdIpUqs/3p83TRtuB7CcKBLaxQjyEQ+Ff7+Vo9BvqWG41Qyi21H2HsHPKLHO1+i9JgYesW9xkgu9gf6xwJwdxr5Pw2k+EgM3zcP2JRBZNbQHxajyJyKOiBKX+eCdB4ir+pd5DAc9BA+DRa8ifNCoGNnWP6aRMI96stIeZ0wYbDhLEVkRTNGNvczI0JKJMnLCJ95yJDWQlwU7/QlaKPrZycqF/R7OkF7iemojmJ8E8/7bKr7Xia4S0y7b0YKnYsnOHDAJBpv2dN7MF1m/BdqhhDqHxlBL/x68kr3+ZBukKPwkG8YE9dRPymp0qD/VDk9H1XmIGKzgX/KFf6ZExWrk+riLdA5TPf2sCkkcfnG2lPnIZMWRiIRiji9h92fmEAYaLXCIvgpHeaGLJMJYW3CCfY8GJHvAmd7zKUJs9k1iYqONYzUDYmsKjcNos/YwqTiMmFZnOzr0hECtm/Q/cnW8aK4NhpHO3USDKUwUvOI9dBYQR1PQ0oRQQ="
